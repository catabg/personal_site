---
import BaseLayout from '../layouts/BaseLayout.astro';
import instagramFeed from '../data/instagram-feed.json';

const cvUrl = `${import.meta.env.BASE_URL}cv.pdf`;
const linkedInUrl = 'https://www.linkedin.com/in/catalina-brand-g%C3%B3mez-549922209/';
const xUrl = 'https://x.com/catarsis_______';
const githubUrl = 'https://github.com/catabg';
const profileImageUrl = `${import.meta.env.BASE_URL}profile.jpg`;
const instagramProfileUrl = 'https://www.instagram.com/box_club_col/';
const instagramPosts = instagramFeed.slice(0, 6);

const socialLinks = [
  { id: 'linkedin', label: 'LinkedIn', url: linkedInUrl },
  { id: 'x', label: 'X', url: xUrl },
  { id: 'github', label: 'GitHub', url: githubUrl }
];

const focusAreas = [
  {
    es: 'Investigación aplicada con IA para comunicación, análisis y mejora de procesos digitales.',
    en: 'Applied AI research for communication, analysis, and improvement of digital processes.'
  },
  {
    es: 'Desempeño como Virtual Assistant en tareas operativas, creación de databases y organización de información.',
    en: 'Virtual Assistant work focused on operational tasks, database creation, and information organization.'
  },
  {
    es: 'Creación de contenido para redes sociales con enfoque estratégico, narrativo y audiovisual.',
    en: 'Social media content creation with strategic, narrative, and audiovisual focus.'
  }
];

const projectLog = [
  {
    key: 'content',
    type: { es: 'Content creation', en: 'Content creation' },
    title: { es: 'Creación de contenido', en: 'Content creation' },
    description: {
      es: 'Diseño de piezas, edición de video y programación de contenido para proyectos editoriales y redes sociales.',
      en: 'Design assets, video editing, and content scheduling for editorial and social media projects.'
    },
    url: ''
  },
  {
    key: 'video',
    type: { es: 'YouTube / DaVinci Resolve', en: 'YouTube / DaVinci Resolve' },
    title: { es: 'Edición de video', en: 'Video editing' },
    description: {
      es: 'Videos editados y publicados con enfoque narrativo y ritmo visual.',
      en: 'Edited and published videos with narrative focus and visual pacing.'
    },
    url: ''
  },
  {
    key: 'research',
    type: { es: 'Investigación', en: 'Research' },
    title: { es: 'Paper académico', en: 'Academic paper' },
    description: {
      es: 'Así Suena La Protesta: un análisis del impacto en el proceso de opinión pública de La caza de Nariño – AlcolirykoZ en el marco del estallido del 2021 en Colombia a través de Twitter. Trabajo alojado en el repositorio de la Universidad de Antioquia.',
      en: 'Así Suena La Protesta: an analysis of the impact on the public opinion process of La caza de Nariño – AlcolirykoZ in the context of Colombia’s 2021 social uprising through Twitter. Work hosted in the Universidad de Antioquia repository.'
    },
    url: 'https://bibliotecadigital.udea.edu.co/entities/publication/abe87a33-d2b6-464d-89b4-435ab92a2d61'
  },
  {
    key: 'ai-data',
    type: { es: 'IA + Bases de Datos', en: 'AI + Databases' },
    title: { es: 'Asistentes y data workflows', en: 'Assistants and data workflows' },
    description: {
      es: 'Sistemas para capturar datos, automatizar tareas y centralizar información.',
      en: 'Systems to capture data, automate tasks, and centralize information.'
    },
    url: ''
  }
];

const portfolioBaseUrl = `${import.meta.env.BASE_URL}portfolio/canva`;
const numberedFiles = (total) => Array.from({ length: total }, (_, index) => `${index + 1}.png`);
const prefixedFiles = (prefix, total) => Array.from({ length: total }, (_, index) => `${prefix}-${index + 1}.png`);

const canvaCampaigns = [
  { slug: 'il-bracco', title: { es: 'Il Bracco', en: 'Il Bracco' }, files: numberedFiles(4) },
  { slug: 'dia-de-muertos-scottsdale', title: { es: 'Día de Muertos Scottsdale', en: 'Día de Muertos Scottsdale' }, files: numberedFiles(4) },
  { slug: 'dreamy-draw-music-festival', title: { es: 'Dreamy Draw Music Festival', en: 'Dreamy Draw Music Festival' }, files: numberedFiles(4) },
  { slug: 'western-week', title: { es: 'Western Week', en: 'Western Week' }, files: numberedFiles(3) },
  { slug: 'la-la-land-kind-cafe', title: { es: 'La La Land Kind Cafe', en: 'La La Land Kind Cafe' }, files: numberedFiles(4) },
  { slug: 'cafe-monarch', title: { es: 'Cafe Monarch', en: 'Cafe Monarch' }, files: numberedFiles(3) },
  { slug: 'city-winery', title: { es: 'City Winery', en: 'City Winery' }, files: numberedFiles(4) },
  { slug: 'virgen-del-carmen', title: { es: 'Virgen del Carmen (ES/EN)', en: 'Virgen del Carmen (ES/EN)' }, files: [...prefixedFiles('es', 5), ...prefixedFiles('en', 5)] },
  { slug: 'carrusel-julio-25-28', title: { es: 'Carrusel Julio 25-28 (ES/EN)', en: 'July 25-28 Carousel (ES/EN)' }, files: [...prefixedFiles('es', 7), ...prefixedFiles('en', 7)] },
  { slug: 'estratos-medellin-espanol', title: { es: 'Estratos Medellín (Español)', en: 'Estratos Medellin (Spanish)' }, files: numberedFiles(6) },
  { slug: 'navidad-en-medellin-espanol', title: { es: 'Navidad en Medellín (Español)', en: 'Christmas in Medellin (Spanish)' }, files: numberedFiles(5) },
  { slug: 'conciertos-medellin', title: { es: 'Conciertos Medellín (ES/EN)', en: 'Medellin Concerts (ES/EN)' }, files: [...prefixedFiles('es', 7), ...prefixedFiles('en', 7)] }
].map((campaign) => ({
  ...campaign,
  slides: campaign.files.map((file, index) => ({
    src: `${portfolioBaseUrl}/${campaign.slug}/${file}`,
    index: index + 1
  }))
}));

const aiTools = [
  { name: 'Notion', label: 'Notion', icon: `${import.meta.env.BASE_URL}tool-logos/notion.svg` },
  { name: 'OpenAI', label: 'ChatGPT Codex', icon: `${import.meta.env.BASE_URL}tool-logos/openai.svg` },
  { name: 'Perplexity', label: 'Perplexity', icon: `${import.meta.env.BASE_URL}tool-logos/perplexity.svg` },
  { name: 'Git', label: 'Git / GitHub', icon: `${import.meta.env.BASE_URL}tool-logos/git.svg` }
];

const youtubeVideos = [
  {
    id: 'o5aoaCHlARo',
    url: 'https://youtu.be/o5aoaCHlARo',
    title: {
      es: "Don't learn n8n in 2026 - do THIS instead",
      en: "Don't learn n8n in 2026 - do THIS instead"
    }
  },
  {
    id: 'utXKeNvJCws',
    url: 'https://youtu.be/utXKeNvJCws',
    title: {
      es: "I Canceled Claude Code. Here's Why I Came Back.",
      en: "I Canceled Claude Code. Here's Why I Came Back."
    }
  },
  {
    id: 'U686qx0IubM',
    url: 'https://youtu.be/U686qx0IubM',
    title: {
      es: "Why Git Makes Claude Code 10x More Powerful: Complete Beginner's Guide",
      en: "Why Git Makes Claude Code 10x More Powerful: Complete Beginner's Guide"
    }
  },
  {
    id: 'YLQvQ2MD2Y8',
    url: 'https://youtu.be/YLQvQ2MD2Y8',
    title: {
      es: 'How to Use Claude Code with Stata — PhD Economist Explains',
      en: 'How to Use Claude Code with Stata — PhD Economist Explains'
    }
  },
  {
    id: 'vJ0q3fjsvJs',
    url: 'https://youtu.be/vJ0q3fjsvJs',
    title: {
      es: 'How this poker expert made $150k in 12 days with Claude Code',
      en: 'How this poker expert made $150k in 12 days with Claude Code'
    }
  },
  {
    id: '4VJmOcwWY_A',
    url: 'https://youtu.be/4VJmOcwWY_A',
    title: {
      es: 'How to Make $0 with AI in 2027',
      en: 'How to Make $0 with AI in 2027'
    }
  },
  {
    id: 'N0MEhjbo-Do',
    url: 'https://youtu.be/N0MEhjbo-Do',
    title: {
      es: "Why Clawdbot Won't Help You",
      en: "Why Clawdbot Won't Help You"
    }
  },
  {
    id: 'IQ1_5jPiQoE',
    url: 'https://youtu.be/IQ1_5jPiQoE',
    title: {
      es: 'This Claude Code Plugin Transforms Vibe Coders Into Senior Engineers',
      en: 'This Claude Code Plugin Transforms Vibe Coders Into Senior Engineers'
    }
  }
];

const experienceItems = [
  {
    role: { es: 'Chief Editor & Content Manager', en: 'Chief Editor & Content Manager' },
    company: { es: 'Freelancer', en: 'Freelancer' },
    period: { es: '2025 - Presente', en: '2025 - Present' },
    description: {
      es: 'Contenido para redes, edición de video, copywriting y diseño de piezas.',
      en: 'Social content, video editing, copywriting, and visual asset design.'
    }
  },
  {
    role: { es: 'Practicante de Comunicaciones y Cultura', en: 'Communications and Culture Intern' },
    company: { es: 'Noble Union', en: 'Noble Union' },
    period: { es: 'Enero - Julio 2025', en: 'January - July 2025' },
    description: {
      es: 'Gestión de información interna y estrategias de cultura organizacional.',
      en: 'Internal information management and organizational culture strategy.'
    }
  },
  {
    role: { es: 'Auxiliar Administrativo', en: 'Administrative Assistant' },
    company: {
      es: 'Coordinación Académica de Extensión Cultural, UdeA',
      en: 'Academic Coordination for Cultural Extension, UdeA'
    },
    period: { es: 'Mayo 2023 - Enero 2024', en: 'May 2023 - January 2024' },
    description: {
      es: 'Logística de eventos, investigación y apoyo de comunicación institucional.',
      en: 'Event logistics, research, and institutional communication support.'
    }
  },
  {
    role: { es: 'Community Manager', en: 'Community Manager' },
    company: { es: 'Proyecto @ruateatro', en: 'Project @ruateatro' },
    period: { es: 'Abril 2023 - Noviembre 2023', en: 'April 2023 - November 2023' },
    description: {
      es: 'Gestión de redes, copywriting y cobertura audiovisual.',
      en: 'Social media management, copywriting, and audiovisual coverage.'
    }
  },
  {
    role: { es: 'Team Leader de Customer Service', en: 'Customer Service Team Leader' },
    company: { es: 'Xtendo Group', en: 'Xtendo Group' },
    period: { es: 'Abril 2021 - Febrero 2023', en: 'April 2021 - February 2023' },
    description: {
      es: 'Supervisión de equipos de servicio al cliente para Chile y Perú, con uso de herramientas ofimáticas y plataformas de atención.',
      en: 'Customer service team supervision for Chile and Peru, using office tools and support platforms.'
    }
  },
  {
    role: { es: 'Gestora pedagógica', en: 'Pedagogical Manager' },
    company: { es: 'Secretaría de Movilidad de Medellín', en: 'Mobility Secretariat of Medellin' },
    period: { es: 'Julio - Diciembre 2019', en: 'July - December 2019' },
    description: {
      es: 'Intervenciones pedagógicas de seguridad vial en calles, empresas e instituciones públicas.',
      en: 'Road safety pedagogical interventions in streets, companies, and public institutions.'
    }
  }
];
---

<BaseLayout title="Catalina Brand Gómez - Portafolio" description="Sitio personal y portafolio de Catalina Brand Gómez">
  <section class="masthead">
    <div class="identity">
      <div class="control-row">
        <div class="lang-switch" role="group" aria-label="Selector de idioma">
          <button class="lang-btn" type="button" data-lang-set="es" aria-pressed="false">ES</button>
          <button class="lang-btn" type="button" data-lang-set="en" aria-pressed="false">EN</button>
        </div>
        <button class="theme-toggle" type="button" data-theme-toggle aria-pressed="false">
          <span aria-hidden="true">◐</span>
          <span data-theme-label>Modo noche</span>
        </button>
      </div>

      <h1>Catalina Brand Gómez</h1>
      <p class="headline">
        <span class="i18n es">Comunicadora</span>
        <span class="i18n en">Communicator</span>
      </p>
      <p class="location">
        <span class="i18n es">Medellín, Colombia</span>
        <span class="i18n en">Medellin, Colombia</span>
      </p>
      <p class="location">Universidad de Antioquia</p>

      <div class="social-row">
        <a class="email-link" href="mailto:catabg1410@gmail.com" aria-label="Enviar email">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M3 6.75A2.75 2.75 0 0 1 5.75 4h12.5A2.75 2.75 0 0 1 21 6.75v10.5A2.75 2.75 0 0 1 18.25 20H5.75A2.75 2.75 0 0 1 3 17.25V6.75Zm2.1-.25 6.9 5.14 6.9-5.14H5.1Zm13.4 12a1.25 1.25 0 0 0 1.25-1.25V8.38l-7.3 5.44a.75.75 0 0 1-.9 0l-7.3-5.44v8.87c0 .7.56 1.25 1.25 1.25h12.5Z"
            />
          </svg>
          <span>catabg1410@gmail.com</span>
        </a>

        <div class="icon-links" aria-label="Redes sociales">
          {socialLinks.map((item) => (
            <a href={item.url} target="_blank" rel="noreferrer" aria-label={item.label}>
              {item.id === 'linkedin' && (
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M4.98 3.5C3.88 3.5 3 4.39 3 5.48S3.88 7.46 4.98 7.46c1.09 0 1.98-.88 1.98-1.98S6.07 3.5 4.98 3.5ZM3.27 8.94h3.42V20H3.27V8.94Zm5.55 0h3.28v1.57h.05c.46-.86 1.57-1.77 3.24-1.77 3.47 0 4.11 2.28 4.11 5.24V20h-3.42v-5.33c0-1.27-.02-2.91-1.77-2.91-1.77 0-2.04 1.38-2.04 2.81V20H8.82V8.94Z" />
                </svg>
              )}
              {item.id === 'x' && (
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M18.9 2h3.7l-8.1 9.26L24 22h-7.23l-5.66-7.4L4.64 22H1l8.66-9.9L0 2h7.42l5.11 6.75L18.9 2Zm-1.28 17.81h2.05L6.3 4.08H4.1L17.62 19.8Z" />
                </svg>
              )}
              {item.id === 'github' && (
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M12 .3a12 12 0 0 0-3.79 23.39c.6.11.82-.26.82-.58v-2.03c-3.34.73-4.04-1.41-4.04-1.41-.55-1.38-1.33-1.74-1.33-1.74-1.08-.74.09-.72.09-.72 1.19.08 1.82 1.2 1.82 1.2 1.06 1.8 2.78 1.28 3.46.97.1-.76.42-1.28.76-1.57-2.66-.3-5.47-1.32-5.47-5.87 0-1.29.47-2.34 1.24-3.17-.12-.3-.54-1.52.11-3.16 0 0 1-.32 3.3 1.21a11.42 11.42 0 0 1 6 0c2.3-1.53 3.3-1.21 3.3-1.21.65 1.64.23 2.86.11 3.16.77.83 1.24 1.88 1.24 3.17 0 4.56-2.81 5.57-5.49 5.86.43.37.82 1.1.82 2.22v3.29c0 .32.21.7.82.58A12 12 0 0 0 12 .3Z" />
                </svg>
              )}
            </a>
          ))}
        </div>
      </div>

      <div class="actions">
        <a class="cta" href={cvUrl}>
          <span class="i18n es">Descargar CV</span>
          <span class="i18n en">Download CV</span>
        </a>
      </div>
    </div>

    <div class="photo-wrap">
      <img src={profileImageUrl} alt="Foto de perfil de Catalina Brand Gómez" class="profile-photo" />
    </div>
  </section>

  <section id="ahora" class="stream-section">
    <h2>
      <span class="i18n es">Ahora</span>
      <span class="i18n en">Now</span>
    </h2>
    <ul class="flow-list">
      {focusAreas.map((area) => (
        <li>
          <span class="i18n es">{area.es}</span>
          <span class="i18n en">{area.en}</span>
        </li>
      ))}
    </ul>
  </section>

  <section id="proyectos" class="stream-section">
    <h2>
      <span class="i18n es">Bitácora de proyectos</span>
      <span class="i18n en">Project log</span>
    </h2>
    <div class="stream-list">
      {projectLog.map((project) => (
        <article>
          <p class="item-meta">
            <span class="i18n es">{project.type.es}</span>
            <span class="i18n en">{project.type.en}</span>
          </p>
          <h3>
            <span class="i18n es">{project.title.es}</span>
            <span class="i18n en">{project.title.en}</span>
          </h3>
          <p>
            <span class="i18n es">{project.description.es}</span>
            <span class="i18n en">{project.description.en}</span>
          </p>
          {
            project.key !== 'video' &&
              project.key !== 'content' &&
              project.key !== 'ai-data' &&
              (project.url ? (
                <a class="mini-link" href={project.url} target="_blank" rel="noreferrer">
                  <span class="i18n es">Ver proyecto</span>
                  <span class="i18n en">View project</span>
                </a>
              ) : (
                <span class="mini-link muted">
                  <span class="i18n es">Enlace por agregar</span>
                  <span class="i18n en">Link to be added</span>
                </span>
              ))
          }
          {
            project.key === 'video' && (
              <>
                <p class="video-note">
                  <span class="i18n es">
                    Realización de tomas, edición en DaVinci Resolve y diseño de thumbnails para cada video.
                  </span>
                  <span class="i18n en">
                    Shot production, DaVinci Resolve editing, and thumbnail design for each video.
                  </span>
                </p>
                <div class="video-grid">
                  {youtubeVideos.map((video) => (
                    <a class="video-card" href={video.url} target="_blank" rel="noreferrer">
                      <img
                        src={`https://i.ytimg.com/vi/${video.id}/hqdefault.jpg`}
                        alt={video.title.es}
                        loading="lazy"
                        width="480"
                        height="360"
                      />
                      <h3>
                        <span class="i18n es">{video.title.es}</span>
                        <span class="i18n en">{video.title.en}</span>
                      </h3>
                    </a>
                  ))}
                </div>
              </>
            )
          }
          {
            project.key === 'content' && (
              <>
                <div class="content-subsection">
                  <p class="content-subtitle">
                    <span class="i18n es">NEWSLETTERS</span>
                    <span class="i18n en">NEWSLETTERS</span>
                  </p>
                  <p class="video-note">
                    <span class="i18n es">Portafolio visual por campaña (piezas exportadas desde Canva).</span>
                    <span class="i18n en">Visual campaign portfolio (final assets exported from Canva).</span>
                  </p>
                  <div class="canva-grid">
                    {canvaCampaigns.map((campaign) => (
                      <article class="canva-campaign" data-carousel tabindex="0">
                        <div class="canva-frame">
                          {campaign.slides.map((slide, slideIndex) => (
                            <img
                              src={slide.src}
                              alt={`Campaña ${campaign.title.es} - pieza ${slide.index}`}
                              class:list={['canva-slide', slideIndex === 0 && 'is-active']}
                              loading="lazy"
                              width="1080"
                              height="1080"
                              data-carousel-slide
                              aria-hidden={slideIndex === 0 ? 'false' : 'true'}
                            />
                          ))}
                          <button type="button" class="canva-arrow prev" data-carousel-prev aria-label={`Pieza anterior de ${campaign.title.es}`}>
                            ‹
                          </button>
                          <button type="button" class="canva-arrow next" data-carousel-next aria-label={`Siguiente pieza de ${campaign.title.es}`}>
                            ›
                          </button>
                        </div>
                      </article>
                    ))}
                  </div>
                </div>

                <div class="content-subsection">
                  <p class="content-subtitle">BOX CLUB</p>
                  <p class="video-note">
                    <span class="i18n es">
                      Responsable de diseño de piezas, redacción de copy, edición de videos y programación del
                      contenido de la tienda.
                    </span>
                    <span class="i18n en">
                      Responsible for design assets, copywriting, video editing, and content scheduling for the
                      store.
                    </span>
                  </p>
                  <a class="mini-link" href={instagramProfileUrl} target="_blank" rel="noreferrer">
                    <span class="i18n es">Ver perfil en Instagram</span>
                    <span class="i18n en">View Instagram profile</span>
                  </a>
                  <div class="instagram-grid">
                    {instagramPosts.map((post) => (
                      <a
                        class="instagram-card"
                        href={post.postUrl}
                        target="_blank"
                        rel="noreferrer"
                      >
                        <img
                          src={`${import.meta.env.BASE_URL}${post.image}`}
                          alt={`Post de Instagram @box_club_col (${post.shortcode})`}
                          loading="lazy"
                          width="320"
                          height="320"
                        />
                        <p class="instagram-copy">{post.caption || 'Copywriting de la pieza en Instagram.'}</p>
                      </a>
                    ))}
                  </div>
                </div>
              </>
            )
          }
          {
            project.key === 'ai-data' && (
              <div class="tool-logo-row" aria-label="Herramientas de IA y bases de datos">
                {aiTools.map((tool) => (
                  <span class="tool-logo" title={tool.label} aria-label={tool.label}>
                    <img src={tool.icon} alt={tool.name} loading="lazy" width="24" height="24" />
                    <span class="tool-label">{tool.label}</span>
                  </span>
                ))}
              </div>
            )
          }
        </article>
      ))}
    </div>
  </section>

  <section id="experiencia" class="stream-section">
    <h2>
      <span class="i18n es">Experiencia</span>
      <span class="i18n en">Experience</span>
    </h2>
    <div class="stream-list">
      {experienceItems.map((item) => (
        <article class="experience-item">
          <div>
            <h3>
              <span class="i18n es">{item.role.es}</span>
              <span class="i18n en">{item.role.en}</span>
            </h3>
            <p class="item-company">
              <span class="i18n es">{item.company.es}</span>
              <span class="i18n en">{item.company.en}</span>
            </p>
            <p>
              <span class="i18n es">{item.description.es}</span>
              <span class="i18n en">{item.description.en}</span>
            </p>
          </div>
          <p class="item-meta">
            <span class="i18n es">{item.period.es}</span>
            <span class="i18n en">{item.period.en}</span>
          </p>
        </article>
      ))}
    </div>
  </section>

  <section id="cv" class="stream-section">
    <h2>CV</h2>
    <p>
      <span class="i18n es">El CV completo sigue disponible en PDF para la versión detallada de tu trayectoria.</span>
      <span class="i18n en">The full CV is available in PDF for the detailed version of your background.</span>
    </p>
    <a class="cta primary" href={cvUrl}>
      <span class="i18n es">Descargar CV</span>
      <span class="i18n en">Download CV</span>
    </a>
  </section>

  <section id="contacto" class="stream-section">
    <h2>
      <span class="i18n es">Contacto</span>
      <span class="i18n en">Contact</span>
    </h2>
    <p>
      <span class="i18n es">Disponible para colaboraciones en comunicación, IA aplicada y organización de datos.</span>
      <span class="i18n en">Available for collaborations in communication, applied AI, and data organization.</span>
    </p>
    <a class="email-link" href="mailto:catabg1410@gmail.com">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path
          d="M3 6.75A2.75 2.75 0 0 1 5.75 4h12.5A2.75 2.75 0 0 1 21 6.75v10.5A2.75 2.75 0 0 1 18.25 20H5.75A2.75 2.75 0 0 1 3 17.25V6.75Zm2.1-.25 6.9 5.14 6.9-5.14H5.1Zm13.4 12a1.25 1.25 0 0 0 1.25-1.25V8.38l-7.3 5.44a.75.75 0 0 1-.9 0l-7.3-5.44v8.87c0 .7.56 1.25 1.25 1.25h12.5Z"
        />
      </svg>
      <span>catabg1410@gmail.com</span>
    </a>
  </section>

  <script is:inline>
    (() => {
      const carousels = document.querySelectorAll('[data-carousel]');

      carousels.forEach((carousel) => {
        const slides = Array.from(carousel.querySelectorAll('[data-carousel-slide]'));
        const prevBtn = carousel.querySelector('[data-carousel-prev]');
        const nextBtn = carousel.querySelector('[data-carousel-next]');
        const currentNode = carousel.querySelector('[data-carousel-current]');
        const totalSlides = slides.length;
        let current = 0;

        const render = () => {
          slides.forEach((slide, index) => {
            const isActive = index === current;
            slide.classList.toggle('is-active', isActive);
            slide.setAttribute('aria-hidden', String(!isActive));
          });

          if (currentNode) {
            currentNode.textContent = String(current + 1);
          }
        };

        if (totalSlides <= 1) {
          prevBtn?.setAttribute('hidden', '');
          nextBtn?.setAttribute('hidden', '');
          return;
        }

        prevBtn?.addEventListener('click', () => {
          current = (current - 1 + totalSlides) % totalSlides;
          render();
        });

        nextBtn?.addEventListener('click', () => {
          current = (current + 1) % totalSlides;
          render();
        });

        carousel.addEventListener('keydown', (event) => {
          if (event.key === 'ArrowLeft') {
            event.preventDefault();
            prevBtn?.click();
          } else if (event.key === 'ArrowRight') {
            event.preventDefault();
            nextBtn?.click();
          }
        });

        render();
      });
    })();
  </script>
</BaseLayout>
